<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Journey Recap AR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <!-- A-Frame -->
  <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.2/dist/aframe.min.js"></script>
  <!-- MindAR core -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.1.4/dist/mindar-image.prod.js"></script>
  <!-- MindAR A-Frame integration -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.1.4/dist/mindar-image-aframe.prod.js"></script>

  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      overflow: hidden;
    }
    video, canvas, a-scene {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <a-scene
    mindar-image="imageTargetSrc: ./targets.mind; autoStart: true;"
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: true"
    embedded
    renderer="colorManagement: true;"
  >
    <!-- ASSETS -->
    <a-assets>
      <a-asset-item id="orcModel" src="./orc.glb"></a-asset-item>
      <img id="journeyRecap" src="./journeyrecap.png">
    </a-assets>

    <!-- CAMERA (invisible, used for look-at) -->
    <a-camera id="camera" position="0 0 0" look-controls="enabled: false"></a-camera>

    <!-- MARKER ANCHOR -->
    <a-entity mindar-image-target="targetIndex: 0">

      <!-- Board -->
      <a-plane
        src="#journeyRecap"
        width="0.8" height="1.2"
        position="0 0.8 -0.5"
        rotation="0 0 0">
      </a-plane>

      <!-- Stats Text -->
      <a-entity position="0 0.8 -0.49">
        <a-text value="Barbarian" align="left" color="#FFF"
                width="0.6" position="-0.3 0.35 0"></a-text>
        <a-text value="5m"         align="left" color="#FFF"
                width="0.6" position="-0.3 0.20 0"></a-text>
        <a-text value="Goblin Town"align="left" color="#FFF"
                width="0.6" position="-0.3 0.05 0"></a-text>
        <a-text value="80 / 100"   align="left" color="#FFF"
                width="0.6" position="-0.3 -0.10 0"></a-text>
        <a-text value="Yes"        align="left" color="#FFF"
                width="0.6" position="-0.3 -0.25 0"></a-text>
      </a-entity>

      <!-- Orc Model -->
      <a-gltf-model
        src="#orcModel"
        position="0 0 -0.3"       <!-- in front of the board -->
        rotation="0 180 0"
        scale="0.3 0.3 0.3"
        look-at="#camera">
      </a-gltf-model>

    </a-entity>
  </a-scene>
</body>
</html>
